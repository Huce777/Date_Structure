1. **`snprintf`函数**：
   - **原型**：`int snprintf(char *str, size_t size, const char *format, ...);`
   - **功能**：`snprintf`函数用于将格式化的数据写入字符串`str`中。它类似于`sprintf`，但提供了一个额外的参数`size`，用于限制写入到`str`中的字符数，以防止缓冲区溢出。
   - **参数**：
     - `str`：指向目标字符串的指针。
     - `size`：目标字符串的最大大小，包括空字符。
     - `format`：格式字符串，指定了如何格式化后续参数。
     - `...`：可变参数列表，根据`format`字符串中的格式说明符，提供相应的数据。
   - **返回值**：成功时返回写入的字符数（不包括空字符），如果输出被截断，则返回所需的总字符数（不包括空字符）。

   在你的代码中：
   ```c
   snprintf(tmp, sizeof(tmp), "(%d,%d),", i, j);
   ```
   - 这行代码使用`snprintf`将整数`i`和`j`格式化为字符串，并追加到`tmp`字符串中，格式为`"(i, j),"`。
   - `sizeof(tmp)`确保不会写入超过`tmp`数组大小的字符，防止溢出。

2. **`strncat`函数**：
   - **原型**：`char *strncat(char *dest, const char *src, size_t n);`
   - **功能**：`strncat`函数用于将源字符串`src`连接到目标字符串`dest`的末尾，但最多只连接`n`个字符。这有助于防止缓冲区溢出。
   - **参数**：
     - `dest`：指向目标字符串的指针。
     - `src`：指向源字符串的指针。
     - `n`：最多连接的字符数。
   - **返回值**：成功时返回目标字符串`dest`的指针。

   在你的代码中：
   ```c
   strncat(res, tmp, size - strlen(res) - 1);
   ```
   - 这行代码使用`strncat`将`tmp`字符串连接到`res`字符串的末尾。
   - `size - strlen(res) - 1`计算出还可以添加到`res`中的字符数，确保不会超出`res`数组的大小。
   - 减1是为了确保在连接后，`res`字符串中有足够的空间放置空字符，以正确结束字符串。

这两个函数的组合使用确保了在连接字符串时不会超出目标字符串的缓冲区大小，从而防止了缓冲区溢出的安全问题。